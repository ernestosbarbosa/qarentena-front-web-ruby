trigger:
  - qarentena-azure-pipelines

pool:
  vmImage: 'windows-latest'

steps:
  - task: UseRubyVersion@0
    inputs:
      versionSpec: '= 2.5'
  - task: Bash@3
    inputs:
      targetType: 'inline'
      script: |
        gem install bundler
        bundle install
        bundle exec cucumber -p json
  - task: PublishCucumberReport@1
    inputs:
      jsonDir: './**/*.json'
      outputPath: './'
      theme: 'bootstrap'
      reportSuiteAsScenarios: true
      name: 'QArentena'
      title: 'QArentena'